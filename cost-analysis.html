<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ë¹„ìš© ë¶„ì„ â€” ì¼ë ‰íŠ¸ë§µAI</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css">
<script>tailwind.config={theme:{extend:{fontFamily:{sans:['Pretendard Variable','Pretendard','system-ui','sans-serif']}}}}</script>
<link rel="stylesheet" href="css/custom.css">
</head>
<body class="antialiased bg-white text-gray-900">
<div id="test-banner"></div>
<div id="app-header"></div>

<!-- Page Header -->
<section class="bg-gradient-to-br from-amber-50 via-white to-white py-12 border-b border-gray-100">
<div class="max-w-7xl mx-auto px-6">
<div class="flex items-center gap-3 mb-4">
<div class="w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center text-2xl">ğŸ’°</div>
<div>
<h1 class="text-3xl font-bold">ë¹„ìš© ë¶„ì„</h1>
<p class="text-gray-500 mt-1">ì„ ê±° ì°¨ëŸ‰ ìš´ì˜ ë¹„ìš©ì„ ë¶„ì„í•˜ê³  ìµœì í™”í•©ë‹ˆë‹¤</p>
</div>
</div>
</div>
</section>

<div class="max-w-7xl mx-auto px-6 py-10 space-y-12">

<!-- Section 1: ì¼ì¼ ìš´ì˜ë¹„ ê³„ì‚°ê¸° -->
<section>
<h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
<svg class="w-6 h-6 text-amber-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"/></svg>
ì¼ì¼ ìš´ì˜ë¹„ ê³„ì‚°ê¸°
</h2>
<div class="bg-white rounded-2xl border border-gray-200 p-6 shadow-sm">
<div class="flex items-center gap-4 mb-6">
<label class="font-semibold text-gray-700">ì°¨ëŸ‰ ìˆ˜</label>
<div class="flex items-center gap-2">
<button onclick="changeVehicles(-1)" class="w-10 h-10 bg-gray-100 rounded-lg text-xl font-bold hover:bg-gray-200 transition flex items-center justify-center">-</button>
<input id="vehicleCount" type="number" min="1" max="5" value="2" class="w-16 text-center text-xl font-bold border border-gray-300 rounded-lg py-2" onchange="calculateCosts()">
<button onclick="changeVehicles(1)" class="w-10 h-10 bg-gray-100 rounded-lg text-xl font-bold hover:bg-gray-200 transition flex items-center justify-center">+</button>
</div>
<span class="text-sm text-gray-500">ëŒ€ (ìµœëŒ€ 5ëŒ€)</span>
</div>

<div class="overflow-x-auto">
<table class="data-table w-full">
<thead>
<tr>
<th class="text-left">í•­ëª©</th>
<th class="text-right">ë‹¨ê°€</th>
<th class="text-right">ìˆ˜ëŸ‰</th>
<th class="text-right">ì†Œê³„</th>
</tr>
</thead>
<tbody id="costTableBody"></tbody>
<tfoot>
<tr class="bg-blue-50">
<td colspan="3" class="font-bold text-blue-900 text-lg py-4 px-4">ì¼ì¼ ì´ ë¹„ìš©</td>
<td class="text-right font-bold text-blue-600 text-xl py-4 px-4" id="dailyTotal">-</td>
</tr>
</tfoot>
</table>
</div>
</div>
</section>

<!-- Section 2: ì„ ê±° ê¸°ê°„ ì´ ë¹„ìš© -->
<section>
<h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
<svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
ì„ ê±° ê¸°ê°„ ì´ ë¹„ìš©
</h2>
<div class="grid md:grid-cols-2 gap-6">
<div class="bg-white rounded-2xl border border-gray-200 p-6 shadow-sm">
<div class="flex items-center gap-4 mb-6">
<label class="font-semibold text-gray-700">ì„ ê±° ìš´ë™ ê¸°ê°„</label>
<input id="campaignDays" type="number" min="1" max="30" value="14" class="w-20 text-center text-lg font-bold border border-gray-300 rounded-lg py-2" onchange="calculateCosts()">
<span class="text-sm text-gray-500">ì¼</span>
</div>
<div class="bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 text-white">
<p class="text-sm text-blue-200">ì„ ê±° ê¸°ê°„ ì´ ë¹„ìš©</p>
<p class="text-4xl font-bold mt-2" id="totalCampaignCost">-</p>
<p class="text-sm text-blue-200 mt-2" id="totalCampaignCostDesc"></p>
</div>
<div class="mt-4 grid grid-cols-2 gap-3">
<div class="bg-gray-50 rounded-lg p-3 text-center">
<p class="text-xs text-gray-500">ì¼í‰ê·  ë¹„ìš©</p>
<p class="text-lg font-bold text-gray-800" id="avgDailyCost">-</p>
</div>
<div class="bg-gray-50 rounded-lg p-3 text-center">
<p class="text-xs text-gray-500">ì°¨ëŸ‰ë‹¹ ë¹„ìš©</p>
<p class="text-lg font-bold text-gray-800" id="perVehicleCost">-</p>
</div>
</div>
</div>
<div class="bg-white rounded-2xl border border-gray-200 p-6 shadow-sm">
<h3 class="font-bold text-gray-700 mb-4">ë¹„ìš© í•­ëª©ë³„ êµ¬ì„±</h3>
<div class="h-72"><canvas id="costBarChart"></canvas></div>
</div>
</div>
<div class="mt-6 bg-white rounded-2xl border border-gray-200 p-6 shadow-sm">
<h3 class="font-bold text-gray-700 mb-4">ë¹„ìš© ë°°ë¶„ ë¹„ìœ¨</h3>
<div class="grid md:grid-cols-2 gap-6 items-center">
<div class="h-72 flex justify-center"><canvas id="costDoughnutChart"></canvas></div>
<div id="costBreakdownList" class="space-y-2"></div>
</div>
</div>
</section>

<!-- Section 3: ë¹„ìš© ìµœì í™” ì¶”ì²œ -->
<section>
<h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
<svg class="w-6 h-6 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/></svg>
ë¹„ìš© ìµœì í™” ì¶”ì²œ
</h2>
<div class="grid md:grid-cols-3 gap-6" id="optimizationCards"></div>
</section>

<!-- Section 4: ë²•ì • ì„ ê±°ë¹„ìš© í•œë„ -->
<section>
<h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
<svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
ë²•ì • ì„ ê±°ë¹„ìš© í•œë„
</h2>
<div class="bg-white rounded-2xl border border-gray-200 p-6 shadow-sm">
<div class="flex items-center gap-4 mb-6">
<label class="font-semibold text-gray-700">ì„ ê±° ìœ í˜•</label>
<select id="electionTypeSelect" class="border border-gray-300 rounded-lg px-4 py-2 text-sm font-medium" onchange="updateBudgetLimit()">
</select>
</div>
<div id="budgetLimitInfo"></div>
</div>
</section>

</div>

<div id="app-footer"></div>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="js/mock-data.js"></script>
<script src="js/shared.js"></script>
<script src="js/chart-helpers.js"></script>
<script>
initPage('cost');

let costBarChartInstance = null;
let costDoughnutChartInstance = null;

// Populate election type dropdown
const elSelect = document.getElementById('electionTypeSelect');
ELECTION_TYPES.forEach(e => {
  if (e.budgetLimit) {
    const opt = document.createElement('option');
    opt.value = e.id;
    opt.textContent = e.name;
    elSelect.appendChild(opt);
  }
});
// default to basic_head
elSelect.value = 'basic_head';

function changeVehicles(delta) {
  const inp = document.getElementById('vehicleCount');
  let v = parseInt(inp.value) + delta;
  v = Math.max(1, Math.min(5, v));
  inp.value = v;
  calculateCosts();
}

function calculateCosts() {
  const vehicles = parseInt(document.getElementById('vehicleCount').value) || 2;
  const days = parseInt(document.getElementById('campaignDays').value) || 14;

  // Build cost breakdown
  const dailyItems = ['vehicleRental', 'fuel', 'driver', 'sound', 'assistant', 'parking', 'insurance'];
  const tbody = document.getElementById('costTableBody');
  let dailyPerVehicle = 0;
  let rows = '';
  const itemTotals = {};

  dailyItems.forEach(key => {
    const item = COST_TABLE[key];
    const subtotal = item.daily * vehicles;
    dailyPerVehicle += item.daily;
    itemTotals[key] = subtotal * days;
    rows += `<tr>
      <td class="px-4"><div class="font-medium">${item.label}</div><div class="text-xs text-gray-400">${item.desc}</div></td>
      <td class="text-right px-4 text-gray-700">${fmt(item.daily)}ì›</td>
      <td class="text-right px-4 text-gray-700">${vehicles}ëŒ€</td>
      <td class="text-right px-4 font-semibold">${fmt(subtotal)}ì›</td>
    </tr>`;
  });

  // banner is one-time per vehicle
  const bannerItem = COST_TABLE.banner;
  const bannerTotal = bannerItem.once * vehicles;
  itemTotals['banner'] = bannerTotal;
  rows += `<tr>
    <td class="px-4"><div class="font-medium">${bannerItem.label}</div><div class="text-xs text-gray-400">${bannerItem.desc} (1íšŒì„±)</div></td>
    <td class="text-right px-4 text-gray-700">${fmt(bannerItem.once)}ì›</td>
    <td class="text-right px-4 text-gray-700">${vehicles}ëŒ€</td>
    <td class="text-right px-4 font-semibold">${fmt(bannerTotal)}ì›</td>
  </tr>`;

  tbody.innerHTML = rows;

  const dailyTotal = dailyPerVehicle * vehicles;
  const totalCampaign = dailyTotal * days + bannerTotal;

  document.getElementById('dailyTotal').textContent = fmt(dailyTotal) + 'ì›';
  document.getElementById('totalCampaignCost').textContent = fmtWon(totalCampaign);
  document.getElementById('totalCampaignCostDesc').textContent = `ì°¨ëŸ‰ ${vehicles}ëŒ€ x ${days}ì¼ ìš´ì˜ + 1íšŒì„± ë¹„ìš©`;
  document.getElementById('avgDailyCost').textContent = fmtWon(dailyTotal);
  document.getElementById('perVehicleCost').textContent = fmtWon(Math.round(totalCampaign / vehicles));

  // Charts
  updateCostCharts(itemTotals, days, vehicles);
  updateOptimizationCards(vehicles, days, dailyPerVehicle, totalCampaign);
  updateBudgetLimit();
}

function updateCostCharts(itemTotals, days, vehicles) {
  const labels = [];
  const data = [];
  const entries = [];

  Object.keys(COST_TABLE).forEach(key => {
    const label = COST_TABLE[key].label;
    const val = itemTotals[key] || 0;
    labels.push(label);
    data.push(val);
    entries.push({ label, val });
  });

  // Bar chart
  if (costBarChartInstance) costBarChartInstance.destroy();
  const barCtx = document.getElementById('costBarChart').getContext('2d');
  costBarChartInstance = new Chart(barCtx, {
    type: 'bar',
    data: {
      labels: labels,
      datasets: [{
        label: 'ì´ ë¹„ìš© (ì›)',
        data: data,
        backgroundColor: ['#2563eb','#3b82f6','#60a5fa','#93c5fd','#06b6d4','#f59e0b','#10b981','#ef4444'],
        borderRadius: 6,
        barPercentage: 0.7
      }]
    },
    options: {
      ...CHART_DEFAULTS,
      scales: {
        x: { grid: { display: false }, ticks: { font: { size: 10 } } },
        y: { beginAtZero: true, grid: { color: '#f1f5f9' }, ticks: { callback: v => fmtWon(v) } }
      },
      plugins: { legend: { display: false } }
    }
  });

  // Doughnut chart
  if (costDoughnutChartInstance) costDoughnutChartInstance.destroy();
  const doughCtx = document.getElementById('costDoughnutChart').getContext('2d');
  costDoughnutChartInstance = createDoughnutChart(doughCtx, labels, data);

  // Breakdown list
  const total = data.reduce((a, b) => a + b, 0);
  const colors = ['#2563eb','#3b82f6','#60a5fa','#93c5fd','#06b6d4','#f59e0b','#10b981','#ef4444'];
  document.getElementById('costBreakdownList').innerHTML = entries.map((e, i) => {
    const pct = total > 0 ? ((e.val / total) * 100).toFixed(1) : 0;
    return `<div class="flex items-center gap-3">
      <div class="w-3 h-3 rounded-full shrink-0" style="background:${colors[i]}"></div>
      <span class="text-sm text-gray-700 flex-1">${e.label}</span>
      <span class="text-sm font-semibold">${fmtWon(e.val)}</span>
      <span class="text-xs text-gray-400 w-12 text-right">${pct}%</span>
    </div>`;
  }).join('');
}

function updateOptimizationCards(vehicles, days, dailyPerVehicle, totalCampaign) {
  const avgVoterPerVehicle = 1200; // estimated daily voter contacts per vehicle

  // Scenario 1: Current
  const s1Cost = totalCampaign;
  const s1Reach = vehicles * avgVoterPerVehicle * days;

  // Scenario 2: 1 fewer vehicle + walking
  const reducedVehicles = Math.max(1, vehicles - 1);
  const s2DailyCost = dailyPerVehicle * reducedVehicles;
  const s2Banner = COST_TABLE.banner.once * reducedVehicles;
  const s2Cost = s2DailyCost * days + s2Banner;
  const walkingBonus = 400 * days; // walking campaign reaches ~400/day
  const s2Reach = reducedVehicles * avgVoterPerVehicle * days + walkingBonus;

  // Scenario 3: Peak hours only (60% operation)
  const s3Mult = 0.6;
  const s3DailyCost = Math.round(dailyPerVehicle * vehicles * 0.75); // 75% cost for 60% time
  const s3Banner = COST_TABLE.banner.once * vehicles;
  const s3Cost = s3DailyCost * days + s3Banner;
  const s3Reach = Math.round(vehicles * avgVoterPerVehicle * 0.85 * days); // 85% reach (peak efficiency)

  const scenarios = [
    {
      title: 'í˜„ì¬ ì„¤ì •',
      desc: `ì°¨ëŸ‰ ${vehicles}ëŒ€ ì „ì¼ ìš´ì˜`,
      cost: s1Cost,
      reach: s1Reach,
      efficiency: (s1Reach / (s1Cost / 10000)).toFixed(1),
      color: 'blue',
      badge: 'ê¸°ë³¸',
      icon: 'ğŸš—'
    },
    {
      title: 'ì°¨ëŸ‰ ì¶•ì†Œì•ˆ',
      desc: `ì°¨ëŸ‰ ${reducedVehicles}ëŒ€ + ë„ë³´ìœ ì„¸ ë³‘í–‰`,
      cost: s2Cost,
      reach: s2Reach,
      efficiency: (s2Reach / (s2Cost / 10000)).toFixed(1),
      color: 'emerald',
      badge: vehicles > 1 ? 'ë¹„ìš© ì ˆê°' : 'í˜„ì¬ì™€ ë™ì¼',
      icon: 'ğŸš¶',
      saving: s1Cost > s2Cost ? Math.round((1 - s2Cost / s1Cost) * 100) : 0
    },
    {
      title: 'ì‹œê°„ëŒ€ ìµœì í™”ì•ˆ',
      desc: 'í”¼í¬íƒ€ì„ ì§‘ì¤‘ ìš´ì˜ (08~10, 17~19ì‹œ)',
      cost: s3Cost,
      reach: s3Reach,
      efficiency: (s3Reach / (s3Cost / 10000)).toFixed(1),
      color: 'purple',
      badge: 'íš¨ìœ¨ ìµœê³ ',
      icon: 'â°',
      saving: Math.round((1 - s3Cost / s1Cost) * 100)
    }
  ];

  // Find best efficiency
  const maxEff = Math.max(...scenarios.map(s => parseFloat(s.efficiency)));

  document.getElementById('optimizationCards').innerHTML = scenarios.map(s => {
    const isBest = parseFloat(s.efficiency) === maxEff;
    return `<div class="bg-white rounded-2xl border-2 ${isBest ? 'border-blue-400 shadow-lg shadow-blue-100' : 'border-gray-200'} p-6 relative card-hover">
      ${isBest ? '<div class="absolute -top-3 left-4 bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full">ì¶”ì²œ</div>' : ''}
      <div class="flex items-center gap-3 mb-4">
        <span class="text-3xl">${s.icon}</span>
        <div>
          <h3 class="font-bold text-lg">${s.title}</h3>
          <span class="inline-block text-xs px-2 py-0.5 rounded-full bg-${s.color}-50 text-${s.color}-700 font-medium">${s.badge}</span>
        </div>
      </div>
      <p class="text-sm text-gray-500 mb-4">${s.desc}</p>
      <div class="space-y-3">
        <div class="flex justify-between items-center">
          <span class="text-sm text-gray-500">ì´ ë¹„ìš©</span>
          <span class="font-bold text-lg">${fmtWon(s.cost)}</span>
        </div>
        ${s.saving ? `<div class="flex justify-between items-center">
          <span class="text-sm text-gray-500">ì ˆê°ë¥ </span>
          <span class="font-bold text-emerald-600">-${s.saving}%</span>
        </div>` : ''}
        <div class="flex justify-between items-center">
          <span class="text-sm text-gray-500">ì˜ˆìƒ ìœ ê¶Œì ì ‘ì´‰</span>
          <span class="font-bold">${fmt(s.reach)}ëª…</span>
        </div>
        <div class="flex justify-between items-center">
          <span class="text-sm text-gray-500">ë§Œì›ë‹¹ ì ‘ì´‰ íš¨ìœ¨</span>
          <span class="font-bold ${parseFloat(s.efficiency) === maxEff ? 'text-blue-600' : ''}">${s.efficiency}ëª…/ë§Œì›</span>
        </div>
      </div>
    </div>`;
  }).join('');
}

function updateBudgetLimit() {
  const typeId = document.getElementById('electionTypeSelect').value;
  const elType = getElectionType(typeId);
  if (!elType || !elType.budgetLimit) {
    document.getElementById('budgetLimitInfo').innerHTML = '<p class="text-gray-500">ì„ ê±°ë¹„ìš© í•œë„ê°€ ë³„ë„ ê·œì •ì¸ ì„ ê±° ìœ í˜•ì…ë‹ˆë‹¤.</p>';
    return;
  }

  const vehicles = parseInt(document.getElementById('vehicleCount').value) || 2;
  const days = parseInt(document.getElementById('campaignDays').value) || 14;
  const dailyItems = ['vehicleRental', 'fuel', 'driver', 'sound', 'assistant', 'parking', 'insurance'];
  let dailyPerVehicle = 0;
  dailyItems.forEach(key => { dailyPerVehicle += COST_TABLE[key].daily; });
  const totalCampaign = dailyPerVehicle * vehicles * days + COST_TABLE.banner.once * vehicles;

  const limit = elType.budgetLimit;
  const pct = Math.min(100, (totalCampaign / limit) * 100);
  const isWarning = pct >= 80;
  const isOver = pct >= 100;

  let barColor = 'bg-blue-500';
  if (isOver) barColor = 'bg-red-500';
  else if (isWarning) barColor = 'bg-amber-500';

  document.getElementById('budgetLimitInfo').innerHTML = `
    <div class="grid md:grid-cols-3 gap-4 mb-6">
      <div class="bg-gray-50 rounded-xl p-4 text-center">
        <p class="text-sm text-gray-500">ì„ ê±° ìœ í˜•</p>
        <p class="text-lg font-bold mt-1">${elType.name}</p>
      </div>
      <div class="bg-gray-50 rounded-xl p-4 text-center">
        <p class="text-sm text-gray-500">ë²•ì • í•œë„</p>
        <p class="text-lg font-bold text-blue-600 mt-1">${fmtWon(limit)}</p>
      </div>
      <div class="bg-gray-50 rounded-xl p-4 text-center">
        <p class="text-sm text-gray-500">ì°¨ëŸ‰ ë¹„ìš© ë¹„ì¤‘</p>
        <p class="text-lg font-bold ${isOver ? 'text-red-600' : isWarning ? 'text-amber-600' : 'text-blue-600'} mt-1">${pct.toFixed(1)}%</p>
      </div>
    </div>
    <div class="mb-2 flex justify-between text-sm">
      <span class="text-gray-600">ì°¨ëŸ‰ ìš´ì˜ ë¹„ìš©: <strong>${fmtWon(totalCampaign)}</strong></span>
      <span class="text-gray-600">í•œë„: <strong>${fmtWon(limit)}</strong></span>
    </div>
    <div class="w-full h-6 bg-gray-200 rounded-full overflow-hidden relative">
      <div class="${barColor} h-full rounded-full transition-all duration-500" style="width:${Math.min(100, pct)}%"></div>
      ${pct < 95 ? `<div class="absolute right-2 top-0 h-full flex items-center text-xs font-bold text-gray-500">${(100 - pct).toFixed(1)}% ì—¬ìœ </div>` : ''}
    </div>
    ${isOver ? `<div class="mt-4 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3">
      <svg class="w-6 h-6 text-red-500 shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
      <div>
        <p class="font-bold text-red-800">ë²•ì • í•œë„ ì´ˆê³¼ ê²½ê³ </p>
        <p class="text-sm text-red-600 mt-1">ì°¨ëŸ‰ ìš´ì˜ ë¹„ìš©ë§Œìœ¼ë¡œ ë²•ì • ì„ ê±°ë¹„ìš© í•œë„ì˜ ${pct.toFixed(1)}%ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì°¨ëŸ‰ ìˆ˜ë¥¼ ì¤„ì´ê±°ë‚˜ ìš´ì˜ ê¸°ê°„ì„ ì¡°ì •í•˜ì„¸ìš”.</p>
      </div>
    </div>` : ''}
    ${isWarning && !isOver ? `<div class="mt-4 bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3">
      <svg class="w-6 h-6 text-amber-500 shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
      <div>
        <p class="font-bold text-amber-800">ì£¼ì˜: í•œë„ì˜ 80% ì´ìƒ</p>
        <p class="text-sm text-amber-600 mt-1">ì°¨ëŸ‰ ìš´ì˜ ë¹„ìš©ì´ ë²•ì • í•œë„ì˜ ${pct.toFixed(1)}%ì— ë‹¬í•©ë‹ˆë‹¤. ë‹¤ë¥¸ ì„ ê±° ë¹„ìš©(ì¸ì‡„ë¬¼, ê´‘ê³  ë“±)ì„ ê³ ë ¤í•˜ë©´ ì˜ˆì‚° ì´ˆê³¼ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤.</p>
      </div>
    </div>` : ''}
    <div class="mt-4 text-sm text-gray-500">
      <p>* ì°¨ëŸ‰ ìš´ì˜ ì™¸ì—ë„ ì¸ì‡„ë¬¼, ê´‘ê³ , ì‚¬ë¬´ì‹¤ ìš´ì˜ë¹„ ë“±ì´ ë²•ì • í•œë„ì— í¬í•¨ë©ë‹ˆë‹¤.</p>
      <p>* ì‹¤ì œ ë²•ì • í•œë„ëŠ” ì„ ê±°ê´€ë¦¬ìœ„ì›íšŒ ê³ ì‹œë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
    </div>
  `;
}

// Initialize
calculateCosts();
</script>
</body>
</html>
